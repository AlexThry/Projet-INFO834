@defer (when getConversationsLoaded()) {


    <div class="h-full w-full">
        <div class="navbar justify-center h-20 bg-base-100">
            <a (click)="logout()" class="btn">Logout</a>
            <a class="rounded-box ml-4 text-xl">Bienvenue {{loggedUser.username}}</a>
        </div>
        <div class="divider">Correspondants</div>
        <ul>
            @for (correspondant of correspondants; track correspondant) {
                <li>
                    <a routerLink="/chat/{{correspondant.id}}" class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                        <div class="avatar">
                            <div class="w-12 h-12 rounded-xl">
                                <img src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
                            </div>                        </div>
                        <p>{{correspondant.username}}</p>
                    </a>
                </li>
            }
        </ul>
        <div class="divider">Connected Users</div>
        @defer (when getConnectedUsersLoaded()) {
            <ul>
                @for (connectedUser of connectedUsers; track connectedUser) {
                    <li>
                        <a routerLink="/chat/{{connectedUser.id}}" (click)="addCorrespondant(connectedUser)" class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                            <div class="avatar">
                                <div class="w-12 h-12 rounded-xl">
                                    <img src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
                                </div>                        </div>
                            <p>{{connectedUser.username}}</p>
                        </a>
                    </li>
                }
            </ul>

        }
        <div class="divider">All users</div>
        @defer (when getAllUsersLoaded()) {
            <ul>
                @for (user of allUsers; track user) {
                    <li>
                        <a routerLink="/chat/{{user.id}}" (click)="addCorrespondant(user)" class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                            <div class="avatar">
                                <div class="w-12 h-12 rounded-xl">
                                    <img src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
                                </div>                        </div>
                            <p>{{user.username}}</p>
                        </a>
                    </li>
                }
            </ul>

        }


    </div>
}
@placeholder {
    <div class="navbar justify-center h-20 bg-base-100">
        <a class="rounded-box ml-4 text-xl">Bienvenue</a>
    </div>
    <ul>
        <li>
            <a class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                <div class="avatar">
                    <div class="w-12 h-12 rounded-xl bg-stone-200"></div>
                </div>
                <p class="w-10 bg-stone-200"></p>
            </a>
        </li>
        <li>
            <a class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                <div class="avatar">
                    <div class="w-12 h-12 rounded-xl bg-stone-200"></div>
                </div>
                <p class="w-10 bg-stone-200"></p>
            </a>
        </li>
        <li>
            <a class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                <div class="avatar">
                    <div class="w-12 h-12 rounded-xl bg-stone-200"></div>
                </div>
                <p class="w-10 bg-stone-200"></p>
            </a>
        </li>
        <li>
            <a class="h-20 mx-5 my-2 flex justify-start btn rounded-box">
                <div class="avatar">
                    <div class="w-12 h-12 rounded-xl bg-stone-200"></div>
                </div>
                <p class="w-10 bg-stone-200"></p>
            </a>
        </li>
    </ul>
}

